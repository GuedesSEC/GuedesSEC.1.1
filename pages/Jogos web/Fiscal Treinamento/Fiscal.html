<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>GuedesSEC - Quiz Fiscal e Contabilidade</title>
<style>
/* ==== MESMO CSS DO ANTERIOR ==== */
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { height: 100%; background: #0d0f0a; color: #39ff14; font-family: 'Courier New', Courier, monospace; display: flex; justify-content: center; align-items: center; padding: 20px; user-select: none; }
#app { max-width: 600px; width: 100%; background: #121613; border: 2px solid #39ff14; border-radius: 8px; box-shadow: 0 0 10px #39ff14, inset 0 0 15px #39ff14; display: flex; flex-direction: column; overflow: hidden; }
#start-screen { padding: 60px 40px; text-align: center; position: relative; }
#title { font-size: 3.5rem; font-weight: 900; letter-spacing: 0.15em; white-space: nowrap; overflow: hidden; border-right: 0.15em solid #39ff14; width: 0; animation: typing 3s steps(9) forwards, blink-caret 0.75s step-end infinite; margin-bottom: 20px; }
#subtitle { font-size: 1.2rem; color: #2aff6a; margin-bottom: 40px; font-weight: 600; }
#start-btn { background: transparent; border: 2px solid #39ff14; color: #39ff14; font-size: 1.2rem; padding: 14px 40px; border-radius: 30px; cursor: pointer; transition: background-color 0.3s ease, color 0.3s ease; box-shadow: 0 0 8px #39ff14; }
#start-btn:hover, #start-btn:focus { background-color: #39ff14; color: #121613; outline: none; box-shadow: 0 0 20px #39ff14; }
#quiz-screen { display: none; flex-direction: column; padding: 30px 40px; }
#progress-container { width: 100%; height: 12px; background: #223322; border-radius: 10px; overflow: hidden; margin-bottom: 30px; box-shadow: inset 0 0 8px #39ff14; }
#progress-bar { height: 100%; width: 0%; background: #39ff14; border-radius: 10px; box-shadow: 0 0 10px #39ff14; transition: width 0.5s ease; }
#question { font-size: 1.4rem; font-weight: 700; margin-bottom: 25px; min-height: 70px; opacity: 1; transition: opacity 0.4s ease; }
#options { list-style: none; padding: 0; margin: 0 0 30px 0; display: flex; flex-direction: column; gap: 15px; }
#options li { background: #0d0f0a; border: 2px solid #39ff14; border-radius: 12px; padding: 14px 20px; font-size: 1.1rem; font-weight: 500; color: #39ff14; cursor: pointer; box-shadow: 0 0 6px #39ff14; transition: all 0.3s ease; user-select: none; position: relative; }
#options li:hover, #options li:focus { background: #39ff14; color: #121613; outline: none; box-shadow: 0 0 20px #39ff14; transform: translateY(-3px); }
#options li.selected { background: #2aff6a; color: #121613; border-color: #2aff6a; box-shadow: 0 0 25px #2aff6a; transform: translateY(-3px); }
#options li.correct { background: #22c55e; border-color: #22c55e; color: #121613; box-shadow: 0 0 25px #22c55e; cursor: default; transform: none; }
#options li.incorrect { background: #ef4444; border-color: #ef4444; color: #121613; box-shadow: 0 0 25px #ef4444; cursor: default; transform: none; }
#next-btn { background: transparent; border: 2px solid #39ff14; color: #39ff14; font-weight: 700; font-size: 1.1rem; padding: 14px 40px; border-radius: 30px; cursor: pointer; align-self: center; box-shadow: 0 0 8px #39ff14; transition: background-color 0.3s ease, color 0.3s ease; letter-spacing: 1.2px; opacity: 0; pointer-events: none; user-select: none; }
#next-btn.visible { opacity: 1; pointer-events: auto; }
#next-btn:hover, #next-btn:focus { background-color: #39ff14; color: #121613; outline: none; box-shadow: 0 0 20px #39ff14; transform: translateY(-3px); }
#end-screen { display: none; padding: 40px 30px; text-align: center; color: #39ff14; }
#end-screen h2 { font-size: 2.5rem; margin-bottom: 20px; font-weight: 900; letter-spacing: 0.15em; text-shadow: 0 0 10px #39ff14; }
#end-screen p { font-size: 1.3rem; margin-bottom: 30px; font-weight: 700; }
#restart-btn { background: transparent; border: 2px solid #39ff14; color: #39ff14; font-weight: 700; font-size: 1.1rem; padding: 14px 40px; border-radius: 30px; cursor: pointer; box-shadow: 0 0 8px #39ff14; transition: background-color 0.3s ease, color 0.3s ease; letter-spacing: 1.2px; }
#restart-btn:hover, #restart-btn:focus { background-color: #39ff14; color: #121613; outline: none; box-shadow: 0 0 20px #39ff14; transform: translateY(-3px); }
@keyframes typing { from { width: 0 } to { width: 9ch } }
@keyframes blink-caret { 0%,100% { border-color: transparent } 50% { border-color: #39ff14 } }
@media (max-width: 640px) { #app { max-width: 100%; border-radius: 0; box-shadow: none; } #start-screen { padding: 40px 20px; } #quiz-screen { padding: 20px 20px 30px; } }
</style>
</head>
<body>
<div id="app">
  <section id="start-screen">
    <h1 id="title">GuedesSEC</h1>
    <p id="subtitle">Quiz Fiscal e Contabilidade: Teste seus conhecimentos!</p>
    <button id="start-btn">Iniciar Quiz</button>
  </section>

  <section id="quiz-screen">
    <div id="progress-container"><div id="progress-bar"></div></div>
    <div id="question"></div>
    <ul id="options"></ul>
    <button id="next-btn">Próximo</button>
  </section>

  <section id="end-screen">
    <h2>Parabéns!</h2>
    <p id="final-score"></p>
    <button id="restart-btn">Reiniciar Quiz</button>
  </section>
</div>

<script>
// Perguntas
const originalQuestions = [
  { question: "O que é ICMS?", options: ["Imposto sobre Circulação de Mercadorias e Serviços","Imposto sobre Renda de Pessoa Física","Imposto sobre Produtos Industrializados","Imposto sobre Serviços de Qualquer Natureza"], answer: 0 },
  { question: "Qual é o prazo para entrega da declaração do IRPF?", options: ["Até 30 de abril","Até 31 de março","Até 31 de dezembro","Até 30 de junho"], answer: 0 },
  { question: "O que é PIS/PASEP?", options: ["Programa de Integração Social e de Formação do Patrimônio do Servidor Público","Plano de Investimento Social","Programa de Incentivo à Saúde","Imposto sobre Serviços"], answer: 0 },
  { question: "Qual é o objetivo da contabilidade?", options: ["Controlar as finanças e registrar operações de uma empresa","Emitir notas fiscais eletrônicas","Definir estratégias de marketing","Aumentar o lucro sem registros"], answer: 0 },
  { question: "O que é lucro líquido?", options: ["Receita total menos despesas, impostos e custos","Receita total antes de despesas","Total de vendas do mês","Valor dos ativos da empresa"], answer: 0 },
  { question: "O que significa NF-e?", options: ["Nota Fiscal Eletrônica","Novo Fundo Econômico","Nota Financeira Especial","Não Fatura Eletrônica"], answer: 0 },
  { question: "O que é depreciação de um ativo?", options: ["Redução do valor do ativo devido ao tempo ou uso","Aumento do valor de mercado do ativo","Venda do ativo","Compra de um novo ativo"], answer: 0 },
  { question: "Qual imposto incide sobre produtos industrializados?", options: ["IPI","ICMS","ISS","IRPF"], answer: 0 },
  { question: "O que é capital social de uma empresa?", options: ["Valor investido pelos sócios para iniciar ou manter a empresa","Lucro anual da empresa","Reserva de emergência","Dívida com fornecedores"], answer: 0 },
  { question: "O que é ECF (Escrituração Contábil Fiscal)?", options: ["Obrigação acessória para registrar informações fiscais e contábeis","Sistema de emissão de notas fiscais","Plano de contas simplificado","Documento para declarar imposto de renda pessoa física"], answer: 0 }
];

// Fisher-Yates shuffle
function shuffle(array){
  for(let i=array.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [array[i],array[j]]=[array[j],array[i]];
  }
  return array;
}

let questions = [];
let currentQuestionIndex = 0;
let score = 0;
let answered = false;

const startScreen = document.getElementById('start-screen');
const startBtn = document.getElementById('start-btn');
const quizScreen = document.getElementById('quiz-screen');
const questionEl = document.getElementById('question');
const optionsEl = document.getElementById('options');
const nextBtn = document.getElementById('next-btn');
const progressBar = document.getElementById('progress-bar');
const endScreen = document.getElementById('end-screen');
const finalScoreEl = document.getElementById('final-score');
const restartBtn = document.getElementById('restart-btn');

// Iniciar quiz
startBtn.addEventListener('click', startQuiz);
restartBtn.addEventListener('click', startQuiz);

function startQuiz(){
  // Embaralhar perguntas
  questions = shuffle([...originalQuestions]);
  currentQuestionIndex=0;
  score=0;
  startScreen.style.display='none';
  endScreen.style.display='none';
  quizScreen.style.display='flex';
  loadQuestion();
  updateProgressBar();
  nextBtn.classList.remove('visible');
}

// Carregar pergunta
function loadQuestion(){
  answered=false;
  nextBtn.classList.remove('visible');
  nextBtn.disabled=true;
  const q=questions[currentQuestionIndex];
  questionEl.style.opacity=0;
  optionsEl.innerHTML='';
  setTimeout(()=>{
    questionEl.textContent=q.question;
    questionEl.style.opacity=1;
    q.options.forEach((option,index)=>{
      const li=document.createElement('li');
      li.textContent=option;
      li.setAttribute('data-index',index);
      li.setAttribute('tabindex',0);
      li.classList.remove('correct','incorrect','selected');
      li.addEventListener('click',selectOption);
      li.addEventListener('keydown',e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault(); selectOption.call(li,e);}});
      optionsEl.appendChild(li);
    });
  },300);
}

// Selecionar opção
function selectOption(e){
  if(answered) return;
  answered=true;
  const selectedLi=e.currentTarget||e.target;
  const selectedIndex=Number(selectedLi.getAttribute('data-index'));
  const correctIndex=questions[currentQuestionIndex].answer;
  Array.from(optionsEl.children).forEach(li=>{li.classList.remove('selected','correct','incorrect'); li.style.pointerEvents='none';});
  selectedLi.classList.add('selected');
  if(selectedIndex===correctIndex){ selectedLi.classList.add('correct'); score++; }
  else { selectedLi.classList.add('incorrect'); optionsEl.children[correctIndex].classList.add('correct'); }
  nextBtn.classList.add('visible'); nextBtn.disabled=false;
}

// Próxima pergunta
nextBtn.addEventListener('click',()=>{
  currentQuestionIndex++;
  if(currentQuestionIndex<questions.length){ loadQuestion(); updateProgressBar(); }
  else{ showResult(); }
});

// Barra de progresso
function updateProgressBar(){
  const progressPercent=(currentQuestionIndex)/questions.length*100;
  progressBar.style.width=progressPercent+'%';
}

// Resultado final
function showResult(){
  quizScreen.style.display='none';
  endScreen.style.display='block';
  progressBar.style.width='100%';
  finalScoreEl.textContent=`Você acertou ${score} de ${questions.length} perguntas.`;
}
</script>
</body>
</html>
